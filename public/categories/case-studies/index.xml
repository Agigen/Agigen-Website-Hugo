<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Case-Studies on Agigen </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://localhost:1313/categories/case-studies/index.xml</link>
    <language>en-us</language>
    
    
    <updated>Thu, 22 Aug 2013 00:00:00 UTC</updated>
    
    <item>
      <title>Carlsberg Where is the Party 2013</title>
      <link>http://localhost:1313/blog/2013-08-22-carlsberg-where-is-the-party-2013</link>
      <pubDate>Thu, 22 Aug 2013 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2013-08-22-carlsberg-where-is-the-party-2013</guid>
      <description>

&lt;p&gt;Together with our friends and longtime partners at North Kingdom, we created Carlsberg’s Where’s the Party 2013 campaign, featuring Axwell of Swedish House Mafia fame. The site takes users on a tour through an interactive video to find one of 2013′s best parties.&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;We made&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Google App Engine&lt;/li&gt;
&lt;li&gt;Python&lt;/li&gt;
&lt;li&gt;HTML5&lt;/li&gt;
&lt;li&gt;CSS&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;Project details&lt;/h2&gt;

&lt;p&gt;Client: North Kingdom
End client: Carlsberg
Date: May 2013&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://www.where-is-the-party.com/&#34;&gt;Project site&lt;/a&gt;&lt;/li&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Netflix The Flixies</title>
      <link>http://localhost:1313/blog/2013-08-22-netflix-the-flixies</link>
      <pubDate>Thu, 22 Aug 2013 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2013-08-22-netflix-the-flixies</guid>
      <description>&lt;p&gt;Netflix own version of the Academy Awards &amp;#8211; but with more realistic categories. Based on how people really uses Netflix.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-175&#34; alt=&#34;65591_10151316261693870_1076038401_n&#34; src=&#34;http://blog.agigen.se/wp-content/uploads/2013/08/65591_10151316261693870_1076038401_n.png&#34; width=&#34;843&#34; height=&#34;403&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Build with Chrome behind the scenes</title>
      <link>http://localhost:1313/blog/2012-06-26-build-with-chrome-behind-the-scenes</link>
      <pubDate>Tue, 26 Jun 2012 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2012-06-26-build-with-chrome-behind-the-scenes</guid>
      <description>

&lt;p&gt;We helped build this cool WebGL LEGO®/Google Maps thing, so I (Karl Blomster) thought I&amp;#8217;d talk for a bit about it.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-50&#34; title=&#34;agigen-blog-header&#34; alt=&#34;&#34; src=&#34;http://blog.agigen.se/wp-content/uploads/2012/06/agigen-blog-header1.png&#34; width=&#34;946&#34; height=&#34;157&#34; /&gt;&lt;/p&gt;

&lt;p&gt;What some other sites had to say about our project: &lt;a title=&#34;Engadget&#34; href=&#34;http://www.engadget.com/2012/06/26/lego-and-google-chrome-build-australia/&#34; target=&#34;_blank&#34;&gt;Engadget&lt;/a&gt;, &lt;a title=&#34;The Verge&#34; href=&#34;http://www.theverge.com/2012/6/26/3117910/google-lego-simulator-build-with-chrome&#34; target=&#34;_blank&#34;&gt;The Verge&lt;/a&gt;, &lt;a title=&#34;Gizmodo&#34; href=&#34;http://gizmodo.com/5921316/you-can-now-build-virtual-lego-in-chrome&#34; target=&#34;_blank&#34;&gt;Gizmodo&lt;/a&gt;, &lt;a title=&#34;Wired.co.uk&#34; href=&#34;http://www.wired.co.uk/news/archive/2012-06/26/build-with-chrome-lego&#34; target=&#34;_blank&#34;&gt;Wired.co.uk&lt;/a&gt;, &lt;a title=&#34;Mashable&#34; href=&#34;http://mashable.com/2012/06/26/google-lego-build/&#34; target=&#34;_blank&#34;&gt;Mashable&lt;/a&gt;, &lt;a title=&#34;DailyTech&#34; href=&#34;http://www.dailytech.com/Google+Adds+8+Trillion+Virtual+Lego+Bricks+to+Chrome/article25029.htm&#34; target=&#34;_blank&#34;&gt;DailyTech&lt;/a&gt;, &lt;a title=&#34;The Next Web&#34; href=&#34;http://thenextweb.com/shareables/2012/06/26/kiss-goodbye-to-your-productivity-google-just-brought-8-trillion-lego-blocks-to-chrome/&#34; target=&#34;_blank&#34;&gt;The Next Web&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;Background&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://buildwithchrome.com/&#34;&gt;Build with Chrome&lt;/a&gt; is basically a Google Chrome and WebGL tech demo. The basic premise is to let users build whatever LEGO structures they want in a full 3D environment, using a baseplate that occupies a Google Maps tile. If you haven&amp;#8217;t tried playing with it yet, go do so right now; at least for me, it turns out that playing with LEGO bricks is just as fun now as when I was 10 years old.&lt;/p&gt;

&lt;p&gt;We got involved in the project as a subcontractor to &lt;a href=&#34;http://www.northkingdom.com/&#34;&gt;North Kingdom&lt;/a&gt;. We&amp;#8217;ve done some pretty cool stuff with them in the past; check out our cases.&lt;/p&gt;

&lt;div id=&#34;attachment_54&#34; class=&#34;wp-caption alignnone&#34; style=&#34;width: 956px&#34;&gt;
  &lt;img class=&#34;size-full wp-image-54&#34; title=&#34;Build with Chrome prototype&#34; alt=&#34;&#34; src=&#34;http://blog.agigen.se/wp-content/uploads/2012/06/agigen-blog-prototype.png&#34; width=&#34;946&#34; height=&#34;588&#34; /&gt;&lt;p class=&#34;wp-caption-text&#34;&gt;
    Early prototype of the builder mode
  &lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;The application&lt;/h2&gt;

&lt;p&gt;We were responsible for the backend system, implementing North Kingdom&amp;#8217;s front end designs, and hooking up various components to each other, while North Kingdom and freelancer &lt;a href=&#34;https://github.com/empaempa&#34;&gt;Mikael Emtinger&lt;/a&gt; handled design work and WebGL programming (mostly done via &lt;a href=&#34;https://github.com/empaempa/GLOW&#34;&gt;GLOW.js&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The application structure is pretty simple: it consists of a handful of static HTML pages, a small RESTful API written in Python, and a humongous amount of JavaScript. There is no meaningful server-side generation of HTML templates going on; the entire thing is basically a JS application that uses AJAX requests to store and retrieve persistent data from the server. It&amp;#8217;s hosted on Google App Engine for two reasons; scalability and simplicity. It&amp;#8217;s really easy to build extremely scalable applications on the App Engine infrastructure, and it takes basically no effort at all to get going with a new project (which is very important when deadlines are looming). Pretty much the entire application was built in slightly over a month by about six full-time developers (three at Agigen, two at North Kingdom and one freelance).&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Lessons learned&lt;/h2&gt;

&lt;p&gt;Since one of the requirements was to use Google Maps tiles as baseplates, one of the first problems we had to solve was how to LEGO-ify a Google Maps image. In an early stage of the project, the plan was to LEGO-ify the entire map, and much time was spent discussing and testing how to make a LEGO-ified map look good and load quickly enough to make the experience decent for the user. The plan was eventually mostly scrapped, and it was decided to only make the 3D exploration mode (which you get if you zoom in far enough) LEGO-ified. We ended up with a very simple implementation that scales down each 256&amp;#215;256 pixel Google Maps tile to 32&amp;#215;32 (using nearest-neighbor sampling) and then reduces the color depth to a fixed 13-color palette. Fortunately for us, you can use the &lt;a href=&#34;http://www.pythonware.com/products/pil/&#34;&gt;Python Imaging Library (PIL)&lt;/a&gt; on App Engine now, so this was pretty painless to do.&lt;/p&gt;

&lt;p&gt;We also tossed around the idea of using topographical height data from the Google Maps API&amp;#8217;s in order to make the baseplates &amp;#8220;hilly&amp;#8221;, but that plan was also scrapped; mostly for timing reasons, but also because the height data wasn&amp;#8217;t really in a high enough resolution to make it interesting.&lt;/p&gt;

&lt;div id=&#34;attachment_55&#34; class=&#34;wp-caption alignnone&#34; style=&#34;width: 956px&#34;&gt;
  &lt;img class=&#34;size-full wp-image-55&#34; title=&#34;Builder with Chrome&#34; alt=&#34;&#34; src=&#34;http://blog.agigen.se/wp-content/uploads/2012/06/agigen-blog-builder.png&#34; width=&#34;946&#34; height=&#34;600&#34; /&gt;&lt;p class=&#34;wp-caption-text&#34;&gt;
    Builder mode how it looks today
  &lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;The next problem was to find a decent way to automatically give users free plots to build on in some semi-predictable manner. Sounds easy enough, but it gets more complicated when you have many users who want to build in the same area. Checking if a plot is free or not in a race-condition-safe manner is a somewhat expensive operation (requiring a database read), so you can&amp;#8217;t do too many checks in a single request, or the user experience will be terrible. After some experimentation and poking around we found an old simple trick that suited us: each baseplate (map tile) is assigned an integer X/Y coordinate pair (counted from the northwestern corner of the map). The coordinate pair is bitwise interleaved to form a single number (called a Morton code), which is stored in memcache (with database backup), so it&amp;#8217;s easy to increment or decrement atomically, forming a &lt;a href=&#34;http://en.wikipedia.org/wiki/Z-order_curve&#34;&gt;Z-order curve&lt;/a&gt;. Using a single number as a coordinate made it much easier and faster to look for free plots while keeping the assignment transaction safe.&lt;/p&gt;

&lt;p&gt;We have also learned more about Google Maps (and more importantly what you cannot do with Google Maps) than we ever wanted to know. Among other things, it turns out that Google Maps ground overlays are really interesting creatures when they get so big that the curvature of the earth starts to matter; most of us have worked as web developers for our entire careers, which meant our math knowledge was severely rusty and not really up to the task of projecting flat images from onto the surface of an ellipsoid or deprojecting spheroid surface segments to flat images. We ended up scrapping that code path for other reasons, though.&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;&amp;#8220;Interesting&amp;#8221; numbers&lt;/h2&gt;

&lt;p&gt;• Number of different coordinate systems used internally: 5 (latitude/longitude in WGS84 datum, Google Maps tile coordinates, Google Maps tile coordinates with the Y axis inverted, Morton code coordinates, &amp;#8220;Spherical Mercator&amp;#8221; metric coordinates (EPSG:3857))
• JS to Python code lines ratio: ~4.8:1 (~16550 lines of JS, 3400 lines of Python; both excluding third-party libraries other than GLOW)
• Number of real LEGO kits built during the development process: 4 (including the Death Star, see photo below)
• Number of dragons in the codebase: 3&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Google&amp;#8217;s official post about the project: &lt;a title=&#34;http://google-au.blogspot.se/2012/06/build-bringing-lego-bricks-to-chrome.html&#34; href=&#34;http://google-au.blogspot.se/2012/06/build-bringing-lego-bricks-to-chrome.html&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://google-au.blogspot.se/2012/06/build-bringing-lego-bricks-to-chrome.html&amp;lt;/a&amp;gt;&#34;&gt;http://google-au.blogspot.se/2012/06/build-bringing-lego-bricks-to-chrome.html&amp;lt;/a&amp;gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div id=&#34;attachment_63&#34; class=&#34;wp-caption alignnone&#34; style=&#34;width: 956px&#34;&gt;
  &lt;img class=&#34;size-full wp-image-63&#34; title=&#34;Build with Chrome&#34; alt=&#34;&#34; src=&#34;http://blog.agigen.se/wp-content/uploads/2012/06/agigen-blog-lego-irl.png&#34; width=&#34;946&#34; height=&#34;584&#34; /&gt;&lt;p class=&#34;wp-caption-text&#34;&gt;
    Research for the project (or just an excuse to build cool LEGO stuff)
  &lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Vodafone Bufferbusters</title>
      <link>http://localhost:1313/blog/2011-09-29-vodafone-bufferbusters</link>
      <pubDate>Thu, 29 Sep 2011 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2011-09-29-vodafone-bufferbusters</guid>
      <description>&lt;p&gt;Vodafone Bufferbusters är ett projekt vi gjorde i samarbete med &lt;a href=&#34;http://http://www.northkingdom.com/&#34;&gt;North Kingdom&lt;/a&gt; och &lt;a href=&#34;http://monterosa.se/&#34;&gt;Monterosa&lt;/a&gt;. Syftet var att bygga ett agumented reality-spel för Vodafone i Tyskland som går ut på att fånga Buffermonsters.&lt;/p&gt;

&lt;p&gt;Buffermonster är nämligen små luriga varelser som inte är synliga för blotta ögat, men de finns runt omkring oss och gör så att internet går långsamt. Därför måste vi alla hjälpas åt och fånga upp dem med våra smartphones i ett Ghost Busters-liknande spel.&lt;/p&gt;

&lt;p&gt;Reklamfilmen för kampanjen som visades på tv och biografer i Tyskland.&lt;/p&gt;

&lt;p&gt;Vi på Agigen ansvarade för spelets backend som byggdes i Python och kördes i Google AppEngine för maximal skalbarhet. Totalt genererades det ut ca 1,5 miljoner monsters runt om i Tyskland som lagras i en NoSQL-databas.&lt;/p&gt;

&lt;p&gt;Se demofilmen på hur spelet fungerar:&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>