$time_pt_1: 300ms;
$time_pt_2: 300ms;
$time_pt_3: 200ms;

$standard_delay: 350ms;
.webprod-process {
    font-size: 20px;
    color: #878787;
    &__timeline {
        width: 90%;
        max-width: 600px;
        margin: 100px auto;
    }
    &__illustration {
        height: 200px;


        &__dot {
            display: block;
            @include transform(scale(0.2));
            opacity: 0;
            margin: 0 auto;
        }
        &__line {
            width: 3px;
            background: #00c6ff;
        }

        &--1 {
            height: 420px;
            margin-bottom: 35px;
            .webprod-process__illustration__dot {
                position: relative;
                top: 8px;
            }
            .webprod-process__illustration__line--1 {
                margin: 0 auto;
                height: 0%;
                @include transition(height $time_pt_1 linear);
            }
            .webprod-process__illustration__line--2 {
                width: 0%;
                position: relative;
                top: -3px;
                margin-left: 50%;
                height: 3px;
                @include transition(width $time_pt_2 linear $time_pt_1, margin $time_pt_2 linear $time_pt_1);
            }
            .webprod-process__illustration__line--3 {
                height: 0%;
                position: relative;
                top: -6px;
                @include transition(height $time_pt_2 linear $time_pt_1+$time_pt_2);
            }


            &.in-view--whole {
                .webprod-process__illustration__dot {
                    @include animation(popin 200ms linear 0 forwards);
                }
                .webprod-process__illustration__line--1 {
                    height: 50%;
                }
                .webprod-process__illustration__line--2 {
                    margin-left: 0%;
                    width: 50%;
                }
                .webprod-process__illustration__line--3 {
                    height: 50%;
                }
            }
        }

        &--6 {
            height: 245px;
            margin-bottom: 60px;
            .webprod-process__illustration__line--1 {
                width: 0%;
                position: relative;
                top: -3px;
                height: 3px;
                @include transition(width $time_pt_1 linear $standard_delay);
            }
            .webprod-process__illustration__line--2 {
                margin: 0 auto;
                position: relative;
                height: 0%;
                top: -6px;
                @include transition(height $time_pt_2 linear $standard_delay+$time_pt_1);
            }
            .webprod-process__illustration__dot {
                position: relative;
                top: -12px;
                opacity: 0;
            }

            &.in-view--whole {
                .webprod-process__illustration__dot {
                    @include animation(popin 200ms linear $standard_delay+$time_pt_1+$time_pt_3 forwards);
                }
                .webprod-process__illustration__line--1 {
                    width: 50%;
                }
                .webprod-process__illustration__line--2 {
                    height: 100%;
                }
            }
        }






        &--between-points {
            height: 200px;
            .webprod-process__illustration__line {
                height: 0%;
                @include transition(height $time_pt_3 linear $standard_delay+300ms);

            }
            &.in-view--partial {
                .webprod-process__illustration__line {
                    height: 100%;
                }

            }

        }


    }

    &__step {
        p {
            margin: 0;
            padding-bottom: 1.5rem;
        }

        &--5 {
            p {
                padding-bottom: 130px;
            }
        }
        &.animate--in-view {
            p {
                opacity: 0;
                @include transform(translateY(-30%));
                @include transition(opacity 300ms linear 500ms, transform 300ms linear 500ms);
            }
        }
        &.animate--in-view.in-view--whole {
            p {
                opacity: 1;
                @include transform(translateY(0%));
            }
        }
        &--6.animate--in-view p {
            @include transition-delay(1.1s);
        }


        &--left-aligned {
            position: relative;
            margin: 0;
            padding: 0 0 0 80px;
            &:before , &:after {
                content: " ";
                display: block;
                position: absolute;
                top: 0;
                left: 0;
            }

            &:before {
                width: 3px;
                height: 100%;
                height: 0%;
                @include transition(height 300ms linear $standard_delay);
                background: #00c6ff;
            }
            &:after {
                top: -2px;
                left: -22px;
                width: 44px;
                height: 44px;
                background: transparent url(/img/webprod/dot.svg) no-repeat top left;
                opacity: 0;
                @include transform(scale(0.2));
            }
            &.in-view--partial {
                &:after {
                    @include animation(popin 200ms linear $standard_delay+300ms forwards);
                }
            }

            &.in-view--whole {
                &:before {
                    height: 100%;
                }

            }
        }


        max-width: 520px;
        text-align: left;
        &--1 , &--6 {
            margin: 0 auto;
            max-width: 600px;
            text-align: center;
        }
    }
}


@include keyframes(popin){
    0% {
        opacity: 0;
        @include transform(scale(0.2));
    }
    80% {
        opacity: 1;
        @include transform(scale(1.2));
    }
    100% {
        opacity: 1;
        @include transform(scale(1));
    }
}
